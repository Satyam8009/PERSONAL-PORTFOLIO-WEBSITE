<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayodhya Heritage | Secure Booking</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { margin: 0; background: #0f172a; color: white; font-family: sans-serif; }
        .wrapper { min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; }
        .card { background: #1e293b; padding: 30px; border-radius: 20px; width: 100%; max-width: 400px; border: 1px solid #334155; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .inp { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #475569; background: #0f172a; color: white; margin: 10px 0; box-sizing: border-box; }
        .btn { width: 100%; padding: 15px; background: #38bdf8; color: #0f172a; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .wa-btn { background: #25D366; color: white; margin-bottom: 10px; }
        .pay-opt { background: #0f172a; padding: 15px; border-radius: 12px; margin-bottom: 10px; border: 1px solid #334155; cursor: pointer; text-align: left; display: flex; align-items: center; }
        .loader { border: 4px solid #334155; border-top: 4px solid #38bdf8; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [page, setPage] = useState('login'); // login, book, pay, load, done
            const [user, setUser] = useState('');
            const [total, setTotal] = useState(1500);

            const handleLogin = (e) => {
                e.preventDefault();
                const email = e.target.email.value;
                setUser(email.split('@')[0]);
                setPage('book');
            };

            const startPayment = () => {
                setPage('load');
                setTimeout(() => setPage('done'), 2000);
            };

            // 1. LOGIN
            if (page === 'login') return (
                <div className="wrapper">
                    <div className="card">
                        <h2 style={{color: '#38bdf8'}}>üîê Client Login</h2>
                        <form onSubmit={handleLogin} style={{textAlign:'left'}}>
                            <label>Email Address</label>
                            <input name="email" type="email" className="inp" required placeholder="name@example.com" />
                            <label>Password</label>
                            <input type="password" className="inp" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
                            <button type="submit" className="btn">LOGIN TO BOOK</button>
                        </form>
                    </div>
                </div>
            );

            // 2. LOADING
            if (page === 'load') return (
                <div className="wrapper">
                    <div className="card">
                        <div className="loader"></div>
                        <p>Processing Payment...</p>
                    </div>
                </div>
            );

            // 3. SUCCESS
            if (page === 'done') return (
                <div className="wrapper">
                    <div className="card">
                        <div style={{fontSize:'60px', color:'#22c55e'}}>‚úì</div>
                        <h2>Booking Confirmed!</h2>
                        <p>Hi {user}, your stay is ready.</p>
                        <button className="btn wa-btn" onClick={() => window.open('https://wa.me/919999999999')}>GET RECEIPT ON WHATSAPP</button>
                        <button className="btn" onClick={() => setPage('book')}>BACK</button>
                    </div>
                </div>
            );

            // 4. BOOKING & PAYMENT UI
            return (
                <div className="wrapper">
                    <div className="card">
                        <h2 style={{color:'#38bdf8'}}>üè® Ayodhya Heritage</h2>
                        {page === 'book' ? (
                            <div style={{textAlign:'left'}}>
                                <p>Welcome, <b>{user}</b></p>
                                <label>Select Room</label>
                                <select className="inp" onChange={(e) => setTotal(e.target.value)}>
                                    <option value="1500">Standard Room (‚Çπ1,500)</option>
                                    <option value="3500">Deluxe Suite (‚Çπ3,500)</option>
                                </select>
                                <div style={{background:'#0f172a', padding:'15px', borderRadius:'10px', borderLeft:'4px solid #38bdf8', margin:'15px 0'}}>
                                    <span style={{fontSize:'24px', fontWeight:'bold'}}>‚Çπ{Number(total).toLocaleString()}</span>
                                </div>
                                <button className="btn" onClick={() => setPage('pay')}>PROCEED TO PAY</button>
                            </div>
                        ) : (
                            <div>
                                <p style={{fontWeight:'bold'}}>Pay via:</p>
                                <div className="pay-opt" onClick={startPayment}><span>üì±</span><span style={{marginLeft:'10px'}}>UPI (GPay/PhonePe)</span></div>
                                <div className="pay-opt" onClick={startPayment}><span>üí≥</span><span style={{marginLeft:'10px'}}>Debit / Credit Card</span></div>
                                <button style={{background:'none', border:'none', color:'#f87171', cursor:'pointer', marginTop:'10px'}} onClick={() => setPage('book')}>Cancel</button>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
